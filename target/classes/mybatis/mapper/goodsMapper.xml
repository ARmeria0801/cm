<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="goodsMapper">
	<!-- 상품 등록 -->
	<insert id="goods_insert" parameterType="goods">
		insert into goods
		(cate_code, gds_seller, gds_name, gds_thumbnail, gds_date,
		gds_price, gds_detail, gds_option, deltem_num, gds_count,
		gds_ears, gds_readcount, gds_sellcount, gds_viewyn, gds_delyn)
		values
		(#{cate_code}, #{gds_seller}, #{gds_name}, #{gds_thumbnail}, SYSDATE(),
		#{gds_price}, #{gds_detail}, #{gds_option}, #{deltem_num}, #{gds_count}, 
		#{gds_ears}, 0, 0, 'Y', 'Y')
	</insert>
	
	<!-- 판매자별 총 등록 상품 개수 -->
	<select id="seller_goods_count" resultType="int">
		select count(*) from goods where gds_delyn='y'
		<!-- and gds_seller=${gds_seller} -->
	</select>
	
	<!-- 판매자별 상품 리스트 출력 -->
	<select id="seller_goods_list" resultType="goods" parameterType="int">
		select * from goods
		where gds_delyn='y' <!-- and gds_seller=${gds_seller} -->
		order by gds_num desc
		limit #{pageIndex}, 10
	</select>
	
	<!-- 판매자별 상품 리스트 출력 -->
	<select id="goods_detail" resultType="goods" parameterType="int">
		select * from goods where gds_num=#{gds_num}
	</select>
	
	<!--  -->
</mapper>
	